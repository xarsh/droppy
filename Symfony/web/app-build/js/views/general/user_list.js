define(["jQuery","Underscore","Backbone","views/includes/single_user","event_manager","helpers/assets"],function(e,t,n,r,i,s){var o=n.View.extend({initialize:function(){var t=e("<div />").attr("class","loading centering").append(e("<img />").attr("src",s.staticAsset("img/loading_big.gif")));this.$el.append(t),this.userList=this.options.userList,this.templateName=this.options.templateName,this.userList.bind("add",this.addOne,this),this.userList.bind("reset",this.addAll,this),i.trigger("loading"),this.userList.fetch({success:function(){i.trigger("endLoading")}})},addOne:function(e){var t=new r({model:e,templateName:this.templateName});this.$el.append(t.render().el)},addAll:function(){this.$(".loading").remove(),this.$("div").remove();for(var e=0;e<this.userList.length;e++)this.addOne(this.userList.at(e))}});return o});