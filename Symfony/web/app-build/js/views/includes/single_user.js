define(["jQuery","Underscore","Backbone","helpers/template_manager","event_manager","app_user","helpers/assets"],function(e,t,n,r,i,s,o){var u=n.View.extend({tagName:"div",initialize:function(){this.template=t.template(r.getTemplate(this.options.templateName))},events:{"click div.names":"showUser","click div.button_small":"toggleDrop"},render:function(){return this.$el.html(this.template(o.wrapAssetics(t.extend({},{appUser:s.toJSON()},this.model.toJSON())))),this},showUser:function(e){e.preventDefault(),i.trigger("changePage","user",{username:this.model.get("username")})},toggleDrop:function(t){$target=e(t.target),$target.is("div")||($target=$target.parent());if(this.model.get("loading"))return;this.model.get("dropped")?i.trigger("undrop",this.model,$target,!0):i.trigger("drop",this.model,$target,!0)}});return u});