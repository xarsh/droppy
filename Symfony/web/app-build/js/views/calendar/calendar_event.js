define(["jQuery","Underscore","Backbone","views/calendar/event_details_popup","helpers/template_manager","helpers/assets"],function(e,t,n,r,i,s){var o=n.View.extend({tagName:"div",initialize:function(){this.height=16;var e=this;this.model.on("out",function(){e.remove()})},events:{click:"showDetailsPopup"},template:t.template(i.getCalendarEventTemplate()),display:function(e){var n=this.model.display(),r=t.extend(n,{options:{today:Date.getToday(),showTime:e.showTime,top:e.top+e.eventsAbove*(this.height+2),width:e.width,height:this.height,left:e.left,preceded:e.preceded,followed:e.followed,allDay:e.allDay}});return this.$el.append(this.template(s.wrapAssetics(r))),this},showDetailsPopup:function(t){t.stopPropagation(),r.setModel(this.model),r.render(),r.displayed||e("div#body").append(r.el),r.open(t.pageX,t.pageY)}});return o});