/**
 * Portions of this code are from the Google Closure Library,
 * received from the Closure Authors under the Apache 2.0 license.
 *
 * All other code is (C) 2011 FriendsOfSymfony and subject to the MIT license.
 */

(function(){function t(t,n){var r=t.split("."),i=e;!(r[0]in i)&&i.execScript&&i.execScript("var "+r[0]);for(var s;r.length&&(s=r.shift());)!r.length&&n!==void 0?i[s]=n:i=i[s]?i[s]:i[s]={}}function n(e){var t=typeof e;if(t=="object"){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if(n=="[object Window]")return"object";if(n=="[object Array]"||typeof e.length=="number"&&typeof e.splice!="undefined"&&typeof e.propertyIsEnumerable!="undefined"&&!e.propertyIsEnumerable("splice"))return"array";if(n=="[object Function]"||typeof e.call!="undefined"&&typeof e.propertyIsEnumerable!="undefined"&&!e.propertyIsEnumerable("call"))return"function"}else if(t=="function"&&typeof e.call=="undefined")return"object";return t}function i(e){return e=""+e,r.test(e)?e:encodeURIComponent(e)}function u(e){var t=0,n;for(n in e)t++;return t}function a(e){var t={},n;for(n in e)t[n]=e[n];return t}function f(e,t){this.b={},this.a=[];var n=arguments.length;if(n>1){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e){var i;if(e instanceof f){l(e),r=e.a.concat(),l(e),i=[];for(n=0;n<e.a.length;n++)i.push(e.b[e.a[n]])}else{var n=[],s=0;for(r in e)n[s++]=r;r=n,n=[],s=0;for(i in e)n[s++]=e[i];i=n}for(n=0;n<r.length;n++)this.set(r[n],i[n])}}function l(e){if(e.e!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Object.prototype.hasOwnProperty.call(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.e!=e.a.length){for(var i={},n=t=0;t<e.a.length;)r=e.a[t],Object.prototype.hasOwnProperty.call(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function c(e){if(e[1]){var t=e[0],n=t.indexOf("#");n>=0&&(e.push(t.substr(n)),e[0]=t=t.substr(0,n)),n=t.indexOf("?"),n<0?e[1]="?":n==t.length-1&&(e[1]=void 0)}return e.join("")}function h(e,t){for(var r in t){var s=r,o=t[r],u=e;if(n(o)=="array")for(var a=0;a<o.length;a++)u.push("&",s),o[a]!==""&&u.push("=",i(o[a]));else o!=null&&(u.push("&",s),o!==""&&u.push("=",i(o)))}return e}function p(e,t){this.d=e||{c:""},this.g(t||{})}var e=this,r=/^[a-zA-Z0-9\-_.!~*'()]*$/,s=Array.prototype,o=s.forEach?function(e,t,n){s.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};f.prototype.e=0,f.prototype.m=0,f.prototype.get=function(e,t){return Object.prototype.hasOwnProperty.call(this.b,e)?this.b[e]:t},f.prototype.set=function(e,t){Object.prototype.hasOwnProperty.call(this.b,e)||(this.e++,this.a.push(e),this.m++),this.b[e]=t},function(e){e.f=function(){return e.l||(e.l=new e)}}(p),p.prototype.g=function(e){this.h=new f(e)},p.prototype.i=function(e){this.d.c=e},p.prototype.k=function(){return this.d.c},p.prototype.j=function(e,t){if(!Object.prototype.hasOwnProperty.call(this.h.b,e))throw Error('The route "'+e+'" does not exist.');var n=this.h.get(e),r=t||{},i=a(r),s="",f=!0;return o(n.tokens,function(t){if("text"===t[0])s=t[1]+s,f=!1;else{if("variable"!==t[0])throw Error('The token type "'+t[0]+'" is not supported.');if(!1===f||!(t[3]in n.defaults)||t[3]in r&&r[t[3]]!=n.defaults[t[3]]){var o;if(t[3]in r){o=r[t[3]];var u=t[3];u in i&&delete i[u]}else{if(!(t[3]in n.defaults)){if(f)return;throw Error('The route "'+e+'" requires the parameter "'+t[3]+'".')}o=n.defaults[t[3]]}if(!0!==o&&!1!==o&&""!==o||!f)s=t[1]+encodeURIComponent(o).replace(/%2F/g,"/")+s;f=!1}}}),s===""&&(s="/"),u(i)>0&&(s=c(h([s],i))),this.d.c+s},t("fos.Router",p),t("fos.Router.setData",function(e){var t=p.f();t.i(e.base_url),t.g(e.routes)}),p.getInstance=p.f,p.prototype.setRoutes=p.prototype.g,p.prototype.setBaseUrl=p.prototype.i,p.prototype.getBaseUrl=p.prototype.k,p.prototype.generate=p.prototype.j,window.Routing=p.f()})();